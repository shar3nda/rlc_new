<!-- search.html -->
{% extends "base.html" %}
{% load static %}
{% load i18n %}
{% load templatetags %} <!-- load your pagination tags -->
{% block content %}
  <link rel="stylesheet" type="text/css" href="{% static 'css/lexgram.css' %}">
  <div class="container mt-5">
    <div class="row">
      <div class="col-md-8">
        <h1>{% trans "Lexico-grammatical search" %}</h1>
        {% if form.errors %}
          <div class="alert alert-danger">
            {% for error in form.errors %}
              {{ error }}
            {% endfor %}
          </div>
        {% endif %}
        <div class="container">
          <form method="get" class="mb-5 lexgram-form">
            <div class="row">
              <div class="col-sm-3">
                <label>
                  Словоформа<input class="form-control input-sm" type="text" name="wordform[]"
                                   placeholder="Словоформа"></label>
              </div>

              {% include 'partials/lex_select.html' %}
              <script>
                function getLex() {
                  $('#lexModal').modal('show');
                }
              </script>

              <div class="col-sm-3">
                <label>
                  <a onclick="getLex()"><span class="fa fa-th-list"></span></a>
                  Часть речи<input class="form-control input-sm" type="text" id="lex" name="lex[]"
                                   placeholder="Часть речи"></label>
              </div>

              {% include 'partials/gram_select.html' %}
              <script>
                function getGram() {
                  $('#gramModal').modal('show');
                }
              </script>

              <div class="col-sm-3">
                <label>
                  <a onclick="getGram()"><span class="fa fa-th-list"></span></a>
                  Грамматика<input class="form-control input-sm" type="text" id="gram" name="grammar[]"
                                   placeholder="Грамматические характеристики"></label>
              </div>

              {% include 'partials/err_select.html' %}
              <script>
                function getErr() {
                  $('#errModal').modal('show');
                }
              </script>

              <div class="col-sm-3">
                <label>
                  <a onclick="getErr()"><span class="fa fa-th-list"></span></a>
                  Ошибки<input class="form-control input-sm" type="text" id="err" name="errors[]"
                               placeholder="Тэги ошибок"></label>
              </div>


            </div>
            <button type="submit" class="btn btn-primary mt-2">{% trans "Submit" %}</button>
          </form>
        </div>

        {% if page_obj %}
          <h2>{% trans "Search results" %}</h2>
          <ul>
            {% for document in page_obj %}
              {% include 'document_card.html' %}
            {% endfor %}
          </ul>

          {% paginator page_obj request %}
        {% endif %}
      </div>
    </div>
  </div>

  <script>

  </script>
{% endblock %}
