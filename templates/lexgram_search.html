<!-- search.html -->
{% extends "base.html" %}
{% load static %}
{% load i18n %}
{% load templatetags %} <!-- load your pagination tags -->
{% block content %}
  <link rel="stylesheet" type="text/css" href="{% static 'css/lexgram.css' %}">
  <div class="container mt-5">
    <div class="row">
      <div class="col-md-8">
        <h1>{% trans "Lexico-grammatical search" %}</h1>
        {% if form.errors %}
          <div class="alert alert-danger">
            {% for error in form.errors %}
              {{ error }}
            {% endfor %}
          </div>
        {% endif %}
        <div class="container">
          <form method="get" class="mb-5 lexgram-form">
            <div class="row">
              <div class="form-group col-md-8">
                {{ form.lemma.label_tag }} {{ form.lemma }}
              </div>
              <div class="form-group col-md-4">
                {{ form.pos.label_tag }} {{ form.pos }}
              </div>
            </div>
            <div class="row">
              <div class="form-group col-md-4">
                {{ form.animacy.label_tag }} {{ form.animacy }}
              </div>
              <div class="form-group col-md-4">
                {{ form.aspect.label_tag }} {{ form.aspect }}
              </div>
              <div class="form-group col-md-4">
                {{ form.case.label_tag }} {{ form.case }}
              </div>
            </div>
            <div class="row">
              <div class="form-group col-md-4">
                {{ form.degree.label_tag }} {{ form.degree }}
              </div>
              <div class="form-group col-md-4">
                {{ form.foreign.label_tag }} {{ form.foreign }}
              </div>
              <div class="form-group col-md-4">
                {{ form.gender.label_tag }} {{ form.gender }}
              </div>
            </div>
            <div class="row">
              <div class="form-group col-md-4">
                {{ form.hyph.label_tag }} {{ form.hyph }}
              </div>
              <div class="form-group col-md-4">
                {{ form.mood.label_tag }} {{ form.mood }}
              </div>
              <div class="form-group col-md-4">
                {{ form.gram_number.label_tag }} {{ form.gram_number }}
              </div>
            </div>
            <div class="row">
              <div class="form-group col-md-4">
                {{ form.person.label_tag }} {{ form.person }}
              </div>
              <div class="form-group col-md-4">
                {{ form.polarity.label_tag }} {{ form.polarity }}
              </div>
              <div class="form-group col-md-4">
                {{ form.tense.label_tag }} {{ form.tense }}
              </div>
            </div>
            <div class="row">
              <div class="form-group col-md-4">
                {{ form.verb_form.label_tag }} {{ form.verb_form }}
              </div>
              <div class="form-group col-md-4">
                {{ form.voice.label_tag }} {{ form.voice }}
              </div>
              <div class="form-group col-md-4">
                {{ form.variant.label_tag }} {{ form.variant }}
              </div>
            </div>
            <div class="checkbox-group mt-4">
              {{ form.gram_errors.label_tag }}
              {% for choice in form.gram_errors %}
                <label>{{ choice.choice_label }}
                  <input type="checkbox" name="{{ choice.name }}" value="{{ choice.choice_value }}">
                </label>
              {% endfor %}
            </div>
            <button type="submit" class="btn btn-primary">{% trans "Submit" %}</button>
          </form>
        </div>

        {% if page_obj %}
          <h2>{% trans "Search results" %}</h2>
          <ul>
            {% for document in page_obj %}
              {% include 'document_card.html' %}
            {% endfor %}
          </ul>

          {% paginator page_obj request %}
        {% endif %}
      </div>
    </div>
  </div>
{% endblock %}
