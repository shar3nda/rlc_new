{% extends 'base.html' %}

{% block content %}
<div>
  <h2>Total Documents: {{ texts_count }}</h2>
</div>
<div style="width: 50%;">
  <canvas id="chart"></canvas>
</div>
<div style="width: 50%;">
  <canvas id="gender_chart"></canvas>
</div>
<div style="width: 50%;">
    <canvas id="lang_background_chart"></canvas>
</div>
<div style="width: 50%;">
    <canvas id="languagesChart"></canvas>
</div>
<script src="https://cdn.jsdelivr.net/npm/chart.js@3.3.2"></script>
<script>
var text_types_data = {
  labels: {{ labels|safe }},
  datasets: [{
    data: {{ text_types|safe }},
    backgroundColor: {{ colors|safe }}
  }]
};
var chart = new Chart(document.getElementById('chart'), {
  type: 'pie',
  data: text_types_data
});


var gender_data = {
  labels: {{ gender_labels|safe }},
  datasets: [{
    data: {{ gender_counts|safe }},
    backgroundColor: ['#FF69B4', '#00BCD4', '#CDDC39']
  }]
};
var gender_chart = new Chart(document.getElementById('gender_chart'), {
  type: 'pie',
  data: gender_data,
 options: {
    plugins: {
      legend: {
        display: false
      },
      title: {
        display: true,
        text: 'Соотношение полов авторов:'
      }
    }
  }
});

var lang_background_data = {
  labels: {{ lang_background_labels|safe }},
  datasets: [{
    data: {{ lang_background_counts|safe }},
    backgroundColor: ['#009688', '#FFEB3B', '#673AB7']
  }]
};
var lang_background_chart = new Chart(document.getElementById('lang_background_chart'), {
  type: 'pie',
  data: lang_background_data,
 options: {
    plugins: {
      legend: {
        display: false
      },
      title: {
        display: true,
        text: 'Русский язык:'
      }
    }
  }
});


var languages_data = {
  labels: {{ languages_labels|safe }},
  datasets: [{
  label: 'My Dataset',
    data: {{ languages_counts|safe }},
    backgroundColor: ['#FFC107', '#03A9F4', '#4CAF50', '#FF5722', '#2196F3', '#8BC34A', '#FF9800', '#9C27B0', '#CDDC39', '#F44336', '#00BCD4', '#E91E63', '#009688',
    '#FFEB3B', '#673AB7', '#CDDC39', '#FFC107', '#795548', '#4CAF50', '#FF5722', '#2196F3', '#8BC34A', '#FF9800', '#9C27B0', '#CDDC39', '#F44336', '#00BCD4', '#E91E63',
    '#009688', '#FFEB3B', '#673AB7', '#CDDC39', '#FFC107', '#795548', '#4CAF50', '#FF5722', '#2196F3', '#8BC34A', '#FF9800', '#9C27B0', '#CDDC39', '#F44336', '#00BCD4',
    '#E91E63', '#009688', '#FFEB3B', '#673AB7', '#CDDC39', '#FFC107', '#795548']

  }]
};
var languagesChart = new Chart(document.getElementById('languagesChart'), {
  type: 'bar',
  data: languages_data,
  options: {
    plugins: {
      legend: {
        display: false
      },
      title: {
        display: true,
        text: 'Языки, представленные в корпусе:'
      }
    }
  }
});



</script>
{% endblock %}
